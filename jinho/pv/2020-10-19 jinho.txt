
# 10월 4주차 수정사항

예측 정확도 수정
- 기존 : 예측 정확도의 분모를 설비용량으로 해서 정확도 불일치 문제 발생 
- 수정 : 예측 정확도의 분모를 PV값으로 변경

개별 관제 탭 디자인 수정 
    - 기상/발전현황 sectoin (완료)
        - 기존 : 기상 데이터가 정해진 card 범위를 벗어남
        - 수정 : card 안에 데이터 위치하도록 class수정 (높이 제한 삭제)

    - skyview image 시간 수정 (완료)
    * 현재 시간을 불러오는게 아니라 이미지 파일 이름의 시간을 가져오기 때문에
      이미지 파일명이 수정 가능한지 검토(24시간 형식을 사용하지 않으면 파일명이 겹치는 문제 발생) 
        - 기존 : 24시간 형식이 아니라 12시간 형식으로 데이터 표시
        - 수정 : 24시간 형식으로 파일명이 생성되도록 김이사님께 요청

    - 그래프 수정 (완료)
        - 기존 : 그래프 canvas 높이 auto
        - 수정 : 그래프 canvas 높이 290px로 수정

예측 관리 탭 수정
    - 예측 관리 접속 시 디폴드 값 (완료)
        - 기존 : 예측 관리 탭 접속 시 15분 단위의 데이터가 디폴트로 화면에 표시됨
        - 수정 : 예측 관리 탭 접속 시 1시간 단위의 데이터가 디폴트로 화면에 표시 되도록 수정
        (추후 24시간 단위의 데이터가 디폴트가 되도록 수정)

    - 15분, 1시간 버튼 (완료)
        - 기존 : 버튼을 누른 후 버튼에 아무 효과 없음
        - 수정 : 누른 버튼만 색으로 표시

    - 예측 테이블 (완료)
        - 기존 : 버튼 이벤트 클릭시 테이블 크기가 일정하지 않음
        - 수정 : 테이블 크기가 일정하도록 변경, 테이블이 커지면 스크롤이 가능하도록 수정

개별 관제 탭 분할
    * 실시간 관제, 일별 관제 탭을 선택해서 볼 수 있도록 수정
    - 기존 : 일별 관제 없음

    - 추가 
    * 일별 관제 template 생성 (/templates/control_day)
    * 일별 관제 template render를 위해 main.py에 함수 추가
    - controlNow() : controlDay.html render 
    * mysql에서 데이터를 불러오기 위해 mysql_conn.py에 새로운 sql문, 함수 생성
    - get_month_real_data() : PV_Predict_Data db에서 선택된 월의 일별 real_data를 SUM, ROUND(,1)한 데이터를 가져온다.
    - get_compare_power_data() : 선택된 날짜와 오늘의 발전량 데이터를 가져온다. 오늘 발전량 시간에 맞춰 JOIN하여 가져온다.


        - 실시간 관제와 일별 관제를 드롭다운 버튼으로 구분
        - 날짜, 태양광 선택기능 추가
        - 선택 날짜의 발전량/cbl 15분 1시간 데이터 그래프를 표시
        - 현재 날짜와 선택한 날짜의 발전량 비교 그래프를 추가

            