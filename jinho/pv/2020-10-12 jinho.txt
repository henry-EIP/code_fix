pv 플랫폼 개발.

데이터 바우쳐 감리를 위해 기존 pv와는 별개의 파일에서 진행
기존 pv 플랫폼 - pv_upgrade_jin
감리용 pv 플랫폼	 - pv_upgrade_jin_kepco

데이터 바우쳐 감리 대응
- 15분 단위, 1시간 단위의 실제값, 예측값 출력
- 15분 단위, 1시간 단위의 cbl값 출력
- 기상청 데이터 표시
- 금일과 전날 발전량 비교 분석 출력


예측 crontab 수정

- 예측 모델 프로세스 수정
    - 기존 : 센서 데이터의 누락이 있을 경우 예측 모델이 돌아가지 않아 데이터 베이스에 아무 데이터도 삽입되지 않음
    - 수정 : 센서 데이터의 누락이 있어 예측 모델이 작동하지 않을 경우 전일 예측 데이터를 금일 예측 데이터로 삽입 하도록 sql문 수정 후 적용

- 실제값 삽입 프로세스 수정
    - 기존 : 실제 값이 db에 삽입될 때 해당 시간(h)의 모든 실제값 센서 데이터의 kw값을 평균 낸 후 db에 삽입 
    - 수정 : kw가 아닌 kwh값을 사용했으며 해당 시간의 최대 kwh - 최소 kwh의 값을 db에 삽입되도록 수정

금일과 전날 발전량 비교 분석

- 기존 : home 탭, 개별 관제 탭, 예측 탭에 금일과 전날 발전량 , 예측발전량, 전체 발전량 그래프가 위치
- 수정: 개별 관제 탭에만 금일과 전날 발전량 그래프가 위치하도록 수정, 예측발전량과 전체 발전량 그래프는 삭제

기상청 데이터 표시
- 기존 : 없음
- 수정 : 기상청 api를 통해 기상 예측 데이터를 받아와 p_weather_api db에 저장, db 삽입된 데이터에서 최근 날짜의 00시부터 21시 데이터를 검색해서 불러오도록 sql문 작성 서버로 가져온 데이터를 html템플릿에 테이블 형태로 출력하기위해 bootstrab라이브러리를 사용, jinja2를 사용해 데이터 삽입

15분 단위, 1시간 단위의 cbl값 출력
15분 단위, 1시간 단위의 실제값 예측값 출력
- 기존 : 예측 탭에 더미 데이터를 삽입한 15분, 1시간 단위 cbl, 15분 단위 실제값 그래프가 위치 
- 수정: 예측 탭에서 cbl그래프 삭제, 개별 관제 탭에 cbl, 실제값의 15분 1시간 그래프 표사, 김박사님 알고리즘을 이용, 알고리즘을 플랫폼에 적용시키기 위해 get_power_cbl() 함수에 알고리즘 코드를 넣어주고 get_pre_15_60(start_date, selected_name) 함수로 알고리즘을 실행 원하는 날짜, 회사의 데이터를 볼 수 있게 하기 위해서 start_date, selected_name 매개변수를 추가함, 테스트 과정에서 날짜 선택 기능이 작동하지 않는 오류 발견해 회사 선택 기능만 가능하도록 재수정
- 추가 수정: 예측 탭의 실제값 데이터가 깔끔하게 들어가도록 기존 예측, 실제 발전량이 아닌 감리용 알고리즘 적용 기존의 cbl 그래프가 위치하던 곳에는 정확도 그래프가 위치하도록 하고 15분, 1시간 버튼을 누르면 발전량 그래프, 정확도 그래프, 테이블이 반응하도록 수정

그 외
- 컬러매칭 : 플랫폼에 통일감을 주기 위해 테마 색상을 blue(#007bff)으로 설정하고 그래프, 그외 요소들의 색상이 잘 어우러지도록 수정
- title수정
    - 기존 : HEPI PV - 태양광 모니터링 시스템
    - 수정 : THE ENERGY - 태양광 모니터링 시스템
- 로고 수정
    - 기존 : HEPI 배너 png 이미지 파일 사용
    - 수정 : THE ENERGY 배너 png 이미지 파일 사용
 
- 개별 관제 탭 디자인 수정
    - 4:4:4 비율, 2열이 되도록 카드 섹션을 재구성, 역률 그래프를 삭제하고 평균전압, 주파수, 평균전류, 총 발젼량 비교 그래프가 한 섹션에 들어가도록 수정
    - 개별 관제 탭에서도 실시간 그래프가 표시되도록 수정
        - sql문을 사용해 db데이터를 가져와야 하기 때문에 get_power()함수를 이용, return 값을 템플릿에 데이터 전달 
    - 기상 현황과 발전 현황이 한 섹션에 표시되도록 수정
    - 감리용 알고리즘을 사용해 금일을 기준으로 금일부터 5일 전까지 총 발전량을 그래프로 나타내 5일 발전량 추이를 알 수 있게 함
