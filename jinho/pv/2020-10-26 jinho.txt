# 10월 5주차 수정사항
* HEPI PV 위주 개발 지시

데이터 누락 관리 system
* 1분 주기 기상, 발전량 데이터 결측 없는지 crontab으로 감시
* 결측 발생시 SMTP프로토콜로 운영자에게 메일 전송

기능추가
* 감리용 페이지에 추가했던 기능 HEPI PV에 수정, 보완 후 추가
- 개별관제 5일 발전량 추이 그래프를 7일 발전량 추이 그래프로 수정 후 추가 (완료)
    - 기존 : 오늘을 기준으로 5일 발전량 데이터를 가져와서 pandas 라이브러리를 사용해 데이터 가공
    - 수정 : 오늘을 기준으로 7일 발전량 데이터를 가져오며 sql문을 통해 연산, 데이터 가공 

- 15분 1시간 그래프 
    - 기존 : 발전량, cbl 15분 1시간 데이터를 db에서 가져오고 pandas라이브러리를 이용해 가공해 그래프로 표현
    - 수정 : cbl 그래프 삭제, db에서 가져온 데이터를 pandas없이 15분 1시간 데이터로 가공해 속도 향상

예측 관리
* 24시간 데이터 그래프, 정확도, 테이블 더미로 생성 (완료)


예외처리
@app.errorhandler(400)
def error_400(error):
- 400 에러페이지 핸들러, 서버에서 400에러 발생시 실행
return render_template('400.html')
- 400에러 페이지 랜더링

@app.errorhandler(404)
def error_404(error):
- 404 에러페이지 핸들러, 서버에서 404에러 발생시 실행
return render_template('404.html')
- 404에러 페이지 랜더링

@app.errorhandler(500)
def error_500(error):
- 500 에러페이지 핸들러, 서버에서 500에러 발생시 실행
return render_template('500.html')
-500에러 페이지 랜더링

- 평균 전압, 평균 전류, 주파수, 역률 데이터 수집 중 db에 결측이 있을경우 Interval 에러 페이지 뜨지 않도록 예외처리 (완료)
- 발전량, 기상 센서, 예측의 결측 데이터가 있는 날에 접속에러 페이지 뜨지 않도록 예외처리 (완료)

일별 관제
-선택 날짜가 바뀌면 발전량 1시간, 15분 데이터도 바뀌도록 수정

코드 최적화
- mysql코드 부분이 너무 김(class 사용해서 최대한 줄이기)
- 필요 없는 코드, 주석 삭제

